{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Center and safely frame the CharacterDock 3D preview (prevent head clipping)",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Adjust the Character Dock preview box frame/layout so the 3D character is visually centered and not clipped by the preview box.",
      "acceptanceCriteria": [
        "On desktop (where the CharacterDock is visible on xl+), the character is visually centered within the preview box area.",
        "The top of the character (head/antenna) is not cut off by the preview box boundaries during idle and other animations.",
        "No horizontal or vertical clipping occurs within the preview box at typical viewport sizes where the dock is shown.",
        "The change is achieved by adjusting the UI frame/layout/styling of the character preview box (not by changing character/model transforms as the primary approach)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/character/CharacterDock.tsx",
          "operation": "modify",
          "description": "Introduce a dedicated inner frame wrapper around the 3D canvas area (e.g., an additional div with a new class) so centering/safe-area padding can be controlled by CharacterDock layout/styling rather than altering the 3D model transforms."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Update the existing Character Dock CSS classes to center the canvas content within the preview frame and prevent head/top clipping by adjusting container layout (e.g., using flex/grid centering, safe-area padding, and a taller fixed/min-height for the preview region) while keeping the change UI/frame-based."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Refine Character Dock canvas container styling for consistent centering and safe framing (padding/min-height/overflow handling) so the full 3D character fits without cropping.",
      "acceptanceCriteria": [
        "The CharacterDock preview box provides enough vertical space for the full character model without cropping.",
        "The 3D canvas remains fully contained within the preview box with no accidental cropping caused by container overflow rules.",
        "Any styling changes are applied via existing Character Dock classes (e.g., character-dock-container / character-dock-canvas) or equivalent safe composition patterns in the frontend codebase."
      ],
      "file_operations": [
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Adjust .character-dock-container and .character-dock-canvas (and any newly introduced wrapper class from CharacterDock) to add a consistent safe-area (top/bottom padding), increase vertical space via fixed/min-height, and ensure overflow rules do not accidentally crop the 3D canvas content while keeping the canvas visually centered."
        },
        {
          "path": "frontend/src/components/character/ArmoredHero3DCanvas.tsx",
          "operation": "modify",
          "description": "Ensure the 3D canvas element reliably fills the updated CharacterDock canvas container (e.g., confirm the Canvas wrapper honors 100% width/height and does not introduce extra inline sizing that could fight the containerâ€™s centering/safe-area layout). Keep this as a secondary support to the UI frame changes, not the primary centering approach."
        }
      ]
    }
  ]
}